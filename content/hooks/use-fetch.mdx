---
title: useFetch
description: 선언적인 방식으로 데이터를 패치할 수 있는 리액트 훅입니다. 로딩 상태, 에러 처리, 요청 취소 등을 편리하게 관리할 수 있습니다.
---
## 설치

<Tabs items={["Command", "Manual"]}>
  <Tab value="Command">
    **pnpm**

```bash
pnpm dlx shadcn@latest add @chaesunbak/use-fetch
```

**npm**

```bash
npx shadcn@latest add @chaesunbak/use-fetch
```
  </Tab>
  <Tab value="Manual">
   <div className="fd-steps">
    <div className="fd-step" >
      <p>다음 코드를 프로젝트에 복사/붙혀넣기 하세요.</p>
        <ComponentSource src="registry/default/hooks/useFetch.ts" />
    </div>
   </div>
  </Tab>
</Tabs>

## 사용법

```tsx
import { useFetch } from "@/hooks/use-fetch";

function App() {
  const { data, error, isError, isLoading, refetch } = useFetch<User>({
    input: "https://api.example.com/data",
    options: {
      onSuccess: (data) => console.log("데이터 패치 성공!", data),
      onError: (err) => console.error("에러 발생!", err),
    }
  });

  if (isLoading) return <div>로딩 중...</div>;
  if (isError) return <div>에러: {error.message}</div>;

  return (
    <div>
      <pre>{data.name}</pre>
      <button onClick={refetch}>다시 불러오기</button>
    </div>
  );
}
```

## 인터페이스

### UseFetchParameters

| 속성 | 타입 | 기본값 | 설명 |
| :--- | :--- | :--- | :--- |
| `input` | `RequestInfo \| URL` | - | 패치할 대상 URL 또는 RequestInfo 객체입니다. |
| `init` | `RequestInit` | `undefined` | fetch API의 옵션 (headers, method, body 등)입니다. |
| `options.enabled` | `boolean` | `true` | 패치 실행 여부입니다. `false`일 경우 수동으로 `refetch`를 호출해야 합니다. |
| `options.onSuccess` | `(data: T) => void` | `undefined` | 데이터 패치 성공 시 호출되는 콜백입니다. |
| `options.onError` | `(error: Error) => void` | `undefined` | 데이터 패치 실패 시 호출되는 콜백입니다. |

### UseFetchReturn

| 속성 | 타입 | 설명 |
| :--- | :--- | :--- |
| `data` | `T \| null` | 패치된 데이터입니다. |
| `error` | `Error \| null` | 발생한 에러 객체입니다. |
| `isError` | `boolean` | 에러 발생 여부입니다. |
| `isLoading` | `boolean` | 로딩 상태 여부입니다. |
| `refetch` | `() => void` | 데이터를 다시 패치하는 함수입니다. |
